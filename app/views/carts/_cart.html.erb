<article>
    <% if notice and !local_assigns[:hide_notice] %>
        <aside id="notice"><%= notice %></aside>
    <% end %>

    <h2>Your Cart</h2>
    <table>

        <%= render cart.line_items,  hide_remove_line_item: local_assigns[:hide_remove_line_item] %>
        
        <tfoot>
            <tr>
                <th colspan="2">Total:</th>
                <td class="price"><%= number_to_currency(cart.total_price) %></td>
            </tr>
        </tfoot>
    </table>
    <% if cart.line_items.length > 0 %>
        <%= button_to 'Empty cart', cart,
                method: :delete,
                data: { confirm: 'Do you really want to empty the cart?' } %>
    <% end %>
</article>